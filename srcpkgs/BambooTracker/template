# Template file for 'BambooTracker'
pkgname=BambooTracker
version=0.4.4
revision=1
wrksrc="BambooTracker-${version}"
build_wrksrc="BambooTracker"
build_helper=qmake
build_style=qmake
configure_args="CONFIG-=debug CONFIG+=release CONFIG+=use_pulse CONFIG+=jack_has_rename"
hostmakedepends="qt5-qmake"
makedepends="qt5-multimedia-devel alsa-lib-devel pulseaudio-devel jack-devel"
short_desc="YM2608 (OPNA) music tracker"
maintainer="Zeinok <zeinok@protonmail.com>"
license="GPL-2.0-only"
homepage="https://github.com/rerrahkr/BambooTracker"
distfiles="https://github.com/rerrahkr/BambooTracker/archive/v${version}.tar.gz"
checksum=7fec75a2085b4193b971b64734949571f167590d3b8d88a4f6e3def19a673198

if [ "$CROSS_BUILD" ]; then
	hostmakedepends+=" qt5-multimedia-devel"
fi

post_install() {
	vinstall ${wrksrc}/BambooTracker.desktop 644 usr/share/applications
	vinstall ${wrksrc}/img/icon.png 644 usr/share/pixmaps BambooTracker.png
	vmkdir usr/share/BambooTracker
	vcopy ${wrksrc}/demos/ usr/share/BambooTracker
	vcopy ${wrksrc}/skins/ usr/share/BambooTracker
	vman ${wrksrc}/BambooTracker.1
	vman ${wrksrc}/BambooTracker.fr.1
}
