# Template file for 'BambooTracker'
pkgname=BambooTracker
version=0.4.2
revision=1
wrksrc="BambooTracker-${version}"
build_wrksrc="BambooTracker"
build_helper=qmake
build_style=qmake
configure_args="CONFIG+=release DEFINES+=__LINUX_ALSA__ DEFINES+=__LINUX_PULSE__ DEFINES+=__UNIX_JACK__"
makedepends="qt5-multimedia-devel alsa-lib-devel pulseaudio-devel jack-devel"
short_desc="YM2608 (OPNA) music tracker"
maintainer="Zeinok <zeinok@protonmail.com>"
license="GPL-2.0-only"
homepage="https://github.com/rerrahkr/BambooTracker"
distfiles="https://github.com/rerrahkr/BambooTracker/archive/v${version}.tar.gz"
checksum=787cd912b47babd569da664de14fa3ce50af5303a9e426cf44c7b782150292a1

if [ "$CROSS_BUILD" ]; then
	hostmakedepends+=" qt5-multimedia-devel"
fi

post_install() {
	vinstall ${wrksrc}/BambooTracker.desktop 644 usr/share/applications
	vinstall ${wrksrc}/img/icon.png 644 usr/share/pixmaps BambooTracker.png
	vmkdir usr/share/BambooTracker
	vcopy ${wrksrc}/demos/ usr/share/BambooTracker
	vcopy ${wrksrc}/skins/ usr/share/BambooTracker
	vman ${wrksrc}/BambooTracker.1
	vman ${wrksrc}/BambooTracker.fr.1
}
